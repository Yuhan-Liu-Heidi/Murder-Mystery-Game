<!DOCTYPE html>
<html>
<head>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">
    <style>
        .all{
            margin: 0 auto;
            text-align: center;
            align-items: center;
        }
        .card {
            box-shadow: 0 4px 8px 0 rgba(0, 0, 0, 0.2);
            max-width: 300px;
            margin: 10px;
            text-align: center;
            font-family: arial;
            float: left;
        }

        .title {
            color: grey;
            font-size: 18px;
            }

        button {
            border: none;
            outline: 0;
            display: inline-block;
            padding: 8px;
            color: white;
            background-color: #000;
            text-align: center;
            cursor: pointer;
            width: 100%;
            font-size: 18px;
        }

        a {
            text-decoration: none;
            font-size: 22px;
            color: black;
        }

        button:hover, a:hover {
            opacity: 0.7;
        }

        .alert {
            position:fixed;
            top: 0px;
            width: 96%;
            padding: 20px;
            color: white;
        }

        .closebtn {
            margin-left: 15px;
            color: white;
            font-weight: bold;
            float: right;
            font-size: 22px;
            line-height: 20px;
            cursor: pointer;
            transition: 0.3s;
        }

        .closebtn:hover {
            color: black;
        }
    </style>
</head>

<body>

<h1 style="text-align:center">Profile Cards</h1>
<hr>

<div class="all">
    <div class="card">
        <img src="{{ url_for("static", filename="images/ch1.jpeg") }}" alt="ch1" style="width:300px;height: 400px">
        <h1>良小花</h1>
        <p class="title">女，当红小花，演技派。</p>
        <form action="" method="post">
            <button id="choose_ch1" name="choose_ch" value="良小花" onclick="if (confirm('Are you sure?')) { this.form.submit(); } else { return false; }">Choose</button>
        </form>
    </div>

    <div class="card">
        <img src={{ url_for("static", filename="images/ch2.jpeg") }} alt="ch2" style="width:300px;height: 400px">
        <h1>良星星</h1>
        <p class="title">女，生日寿星。</p>
        <form action="" method="post">
            <button id="choose_ch2" name="choose_ch" value="良星星" onclick="if (confirm('Are you sure?')) { this.form.submit(); } else { return false; }">Choose</button>
        </form>
    </div>

    <div class="card">
        <img src="{{ url_for("static", filename="images/ch3.jpeg") }}" alt="ch3" style="width:300px;height: 400px">
        <h1>米亚伦</h1>
        <p class="title">女，同班同学。</p>
        <form action="" method="post">
            <button id="choose_ch3" name="choose_ch" value="米亚伦" onclick="if (confirm('Are you sure?')) { this.form.submit(); } else { return false; }">Choose</button>
        </form>
    </div>

    <div class="card">
        <img src="{{ url_for("static", filename="images/ch4.jpeg") }}" alt="ch4" style="width:300px;height: 400px">
        <h1>黑轮海</h1>
        <p class="title">女，同班同学。</p>
        <form action="" method="post">
            <button id="choose_ch4" name="choose_ch" value="黑轮海" onclick="if (confirm('Are you sure?')) { this.form.submit(); } else { return false; }">Choose</button>
        </form>
    </div>

    <div class="card">
        <img src="{{ url_for("static", filename="images/ch5.jpeg") }}" alt="ch5" style="width:300px;height: 400px">
        <h1>希嘻嘻</h1>
        <p class="title">女，lo裙小能手，学生会主席。</p>
        <form action="" method="post">
            <button id="choose_ch5" name="choose_ch" value="希嘻嘻" onclick="if (confirm('Are you sure?')) { this.form.submit(); } else { return false; }">Choose</button>
        </form>
    </div>

    <div class="card">
        <img src="{{ url_for("static", filename="images/ch6.jpeg") }}" alt="ch6" style="width:300px;height: 400px">
        <h1>嵩主角</h1>
        <p class="title">男，学校助教。</p>
        <form action="" method="post">
            <button id="choose_ch6" name="choose_ch" value="嵩主角" onclick="if (confirm('Are you sure?')) { this.form.submit(); } else { return false; }">Choose</button>
        </form>
    </div>

    <div class="card">
        <img src="{{ url_for("static", filename="images/ch7.jpeg") }}" alt="ch7" style="width:300px;height: 400px">
        <h1>大幂幂</h1>
        <p class="title">女，好姐妹。</p>
        <form action="" method="post">
            <button id="choose_ch7" name="choose_ch" value="大幂幂" onclick="if (confirm('Are you sure?')) { this.form.submit(); } else { return false; }">Choose</button>
        </form>
    </div>

    <div class="card">
          <img src="{{ url_for("static", filename="images/ch8.jpeg") }}" alt="ch8" style="width:300px;height: 400px">
          <h1>tc第二帅</h1>
          <p class="title">男，tc第二帅2。</p>
          <form action="" method="post">
              <button id="choose_ch8" name="choose_ch" value="tc第二帅" onclick="if (confirm('Are you sure?')) { this.form.submit(); } else { return false; }">Choose</button>
          </form>
    </div>

    <div class="card">
        <img src="{{ url_for("static", filename="images/ch9.jpeg") }}" alt="ch9" style="width:300px;height: 400px">
        <h1>撒比尔</h1>
        <p class="title">男，小矮人。</p>
        <form action="" method="post">
            <button id="choose_ch9" name="choose_ch" value="撒比尔" onclick="if (confirm('Are you sure?')) { this.form.submit(); } else { return false; }">Choose</button>
        </form>
    </div>

    <div class="card">
        <img src="{{ url_for("static", filename="images/ch10.jpeg") }}" alt="ch10" style="width:300px;height: 400px">
        <h1>黄学</h1>
        <p class="title">男，学长。</p>
        <form action="" method="post">
            <button id="choose_ch10" name="choose_ch" value="黄学" onclick="if (confirm('Are you sure?')) { this.form.submit();} else { return false; }">Choose</button>
        </form>
    </div>
</div>

<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.4.1/jquery.min.js"></script>
<script>
    $(document).ready(setInterval(function(){
        $("*").mouseenter(function(){
            $.get("/is_chosen/", function(data){
                var ch_list = ["ch1", "ch2", "ch3", "ch4", "ch5", "ch6", "ch7", "ch8", "ch9", "ch10"]
                var i;
                for (i = 0; i < ch_list.length; i++) {
                    var x = document.getElementById("choose_"+ch_list[i]);
                    if (data[ch_list[i]]==true) {
                        x.style.background = "#777777";
                    } else {
                        x.style.background = "black";
                    }
                }
            });
        });
    },1000));
</script>

{% if message %}
    <div class="alert" style="background-color: red;">
        <span class="closebtn" onclick="this.parentElement.style.display='none';">&times;</span>
        <strong>OH NO!</strong> {{ message }}
    </div>
{% endif %}

</body>
</html>
